{% extends "base2.html" %}

{% block header %}
{% endblock header %}

{% block content %}
<div class="container-fluid p-3 bg-dark text-white"
    <h1> Edit News Item</h1>
</div>

<div class="container-fluid p-3">
    <div class="row">
        <div class="col-sm-6" >
            <h2>Source: {{news_item.source_name}}</h2>
            <h3><a href="{{news_item.link}}" target="_blank" rel="noopener noreferrer">Link: {{ news_item.title }}</a></h3>

            <h3>Synposis of the News item</h3>
<!--            <form action="{% url 'podcasts:edit_news_links_changed' news_item.id prev_news_id next_news_id %}" method='post'>-->
            <form action="{% url 'podcasts:edit_news_links_filtered' news_item.id prev_news_id next_news_id rss_source.pk %}" method='post'>

                {% csrf_token %}
                {{ form.as_p }}
                {{ link_form.as_p }}
                {{ pub_link_form.as_p }}
                <h4>Source Filter: </h4>
                <p>Changes the [Previous] & [Next] News Items when you [Save Changes]</p>
                    <select name="dropdown">
                          <option value={{rss_source.pk}} selected>{{rss_source.source_name}}</option>
                        {% for source in l_sources %}
                          <option value={{source.pk}}>{{source.source_name}}</option>
                        {% endfor %}
                      </select>
                </br>
                </br>
                <button name="submit">save changes</button>
                </br>
                </br>
                <p><strong>Count Related News:</strong> {{count_news_items}}</p>
            </form>
        </div>





    </div>

</div>

<!-- Create are for the previous and next news items-->
<div class="container-fluid p-3">
    <div class="row">
        <div class="col-sm-6" style="background-color:black;">
<!--            <h3><a href="{% url 'podcasts:edit_news_item_links' prev_news_id  %}" >Previous News item</a></h3>-->
            <h3><a href="{% url 'podcasts:edit_news_links_filtered' prev_news_id prev_news_id next_news_id rss_source.pk %}" >Previous News item: {{prev_news_id}} </a></h3>
        </div>
        <div class="col-sm-6" style="background-color:black;">
<!--            <h3><a href="{% url 'podcasts:edit_news_item_links' next_news_id  %}" >Next News item</a></h3>-->
            <h3><a href="{% url 'podcasts:edit_news_links_filtered' next_news_id next_news_id next_news_id rss_source.pk %}" >Next News item: {{next_news_id}}</a></h3>
        </div>
    </div>

</div>

<!-- Show the linked publications -->
<div class="container-fluid p-3 bg-dark text-white">
    <div class="row">
        <div class="col-sm-6" style="background-color:green;">
            <h3>Publications Linked</h3>
            <ul>
                {% for pubitem in l_linked_pubs %}
                <li>{{pubitem.id}} {{pubitem.title}}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-sm-6" style="background-color:green;">
            <h3>Publications Not Linked</h3>
                <ul>
                    {% for pub in l_non_linked_pubs %}
                    <li>{{pub.id}} {{pub.title}}</li>
                    {% endfor %}
                </ul>
        </div>
</div>
<div class="container-fluid p-3 bg-dark text-white">
    <div class="row">
        <div class="col-sm-6" style="background-color:green;">
            <form>
                <div class="form-group">
                    <label for="cars">Current Linked Articles:</label>
                    </br>
                    <select id="cars" name="cars" size="3" width="300" style="width: 300px" disabled>
                      <option value="volvo">Green Hydrogen</option>
                      <option value="saab">Wind Power</option>
                      <option value="fiat">Car Charge Grids</option>
                      <option value="audi">Carbon Offset</option>
                      <option value="fiat">Solar Cells</option>
                      <option value="audi">E-charging</option>
                    </select>
                </div>
                </br>
                 <button name="Remove">Remove from Article</button>
            </form>

        </div>

        <div class="col-sm-6" style="background-color:green;">
            <form>
                <div class="form-group">
                    <label for="cars">Choose an Article:</label>
                    </br>
                    <select id="cars" name="cars" size="4" width="300" style="width: 300px" multiple>
                      <option value="volvo">Green Hydrogen</option>
                      <option value="saab">Wind Power</option>
                      <option value="fiat">Car Charge Grids</option>
                      <option value="audi">Carbon Offset</option>
                    </select>
                </div>
            </form>
            </br>
                        <button name="Add">Add to Article</button>
        </div>
    </div>

</div>





{% endblock content %}